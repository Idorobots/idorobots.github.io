<!DOCTYPE html><html><head><meta charset="utf-8" /><title>I do robots</title><link href="style/bootstrap.min.css" rel="stylesheet" type="text/css" /><link href="style/font-awesome.min.css" rel="stylesheet" type="text/css" /><link href="style/ts.theme.dark.css" rel="stylesheet" type="text/css" /><link href="style/hljs.theme.hybrid.css" rel="stylesheet" type="text/css" /><link href="style/blog.css" rel="stylesheet" type="text/css" /><link href="index.xml" rel="alternate" title="I do robots Feed" type /><link href="media/favicon.ico" rel="icon" type="image/png" /><script src="js/jquery-2.2.0.min.js" type="text/javascript"></script><script src="js/jquery.tablesorter.min.js" type="text/javascript"></script><script src="js/bootstrap.min.js" type="text/javascript"></script><script src="js/highlight.min.js" type="text/javascript"></script><script src="js/blog.js" type="text/javascript"></script><meta content="width=device-width, initial-scale=1.0" name="viewport" /><meta content="λ-blog v.1.3.3" name="generator" /><meta content="Idorobots" name="author" /><meta content="Kajetan Rzepecki, Idorobots, dev-blog, devblog, blog, Clojure, Lisp, Erlang, technology, electronics, hacks, computer science" name="keywords" /><meta content="Yes Mom, I *do* robots." name="description" /></head><body><nav class="navbar navbar-default navbar-fixed-top"><div class="container"><div class="navbar-header"><button class="navbar-toggle navbar-brand pull-left" data-target="#navbar-responsive-collapse" data-toggle="collapse" type="button"><div><img src="media/logo.svg" />idorobots.org</div></button><div class="hidden-xs"><a class="navbar-brand" href="."><div><img src="media/logo.svg" />idorobots.org</div></a></div></div><div class="collapse navbar-collapse navbar-right" id="navbar-responsive-collapse"><ul class="nav navbar-nav"><li><a href="https://github.com/Idorobots"><i class="fa fa-github"></i> GitHub</a></li><li><a href="resume.html"><i class="fa fa-trophy"></i> Resumé</a></li><li><a href="contact.html"><i class="fa fa-comment"></i> Contact</a></li><li class="divider hidden-sm hidden-md hidden-lg"></li><li class="hidden-sm hidden-md hidden-lg"><a href="."><i class="fa fa-home"></i> Home</a></li><li class="hidden-sm hidden-md hidden-lg"><a href="archives.html"><i class="fa fa-archive"></i> Archives</a></li><li class="hidden-sm hidden-md hidden-lg"><a href="tags/index.html"><i class="fa fa-tags"></i> Tag Cloud</a></li><li class="hidden-sm hidden-md hidden-lg"><a href="index.xml"><i class="fa fa-feed"></i> Feed</a></li><li class="dropdown hidden-xs"><a href="#"><i class="fa fa-chevron-right"></i></a><ul class="dropdown-menu"><li><a href="."><i class="fa fa-home"></i> Home</a></li><li><a href="archives.html"><i class="fa fa-archive"></i> Archives</a></li><li><a href="tags/index.html"><i class="fa fa-tags"></i> Tag Cloud</a></li><li><a href="index.xml"><i class="fa fa-feed"></i> Feed</a></li></ul></li></ul></div></div></nav><div class="body-wrap"><article id="page"><div class="container"><header class="page-header"></header><article><header><div class="panel panel-default"><div class="panel-body"><div class="text-center"><div class="row"><h1><a href="entries/hacking-huawei-e3372-hilink..html">Hacking Huawei E3372 HiLink.</a></h1><p>Posted on <time>2017-09-10 18:33</time> by <a href="https://github.com/Idorobots">Idorobots</a></p><nav><a class="tag" href="tags/hacks.html"><span class="label label-info small">hacks</span></a> <a class="tag" href="tags/huawei.html"><span class="label label-info small">huawei</span></a> <a class="tag" href="tags/networking.html"><span class="label label-info small">networking</span></a> <a class="tag" href="tags/reverse-engineering.html"><span class="label label-info small">reverse engineering</span></a></nav></div></div></div></div></header><p>Here's a quick post showing how I solved an issue with an unreliable LTE backup connection. Depending on your hardware, firmware & UI version YMMV.</p><h2><a name="the-problem"></a><a href="#the-problem">The problem</a></h2><p>It appears that Huawei E3372 frequently disconnects from the LTE network for no apparent reason. It wouldn't be much of a problem if it managed to quickly and reliably reconnect, but that isn't the case it would seem. Whenever that happens packets get lost and websites don't load properly, and overall internet experience is well below acceptable. After some googling it turned out that it might be caused by E3372 automatically disconnecting from the network, but fortunately enough, automatic disconnects when idling seem to be a configurable feature [sic] in the HiLink version of the modem. Less fortunately though, the default interval is set to 5 minutes, and obviously needs to be changed, potentially even disabled altogether. Let's see what the WebUI has to offer in this regard:</p><p><img src="https://blog.idorobots.org/media/huawei/badUI.png" alt="Y u no cooperate" /></p><p>Oh...</p><p><div class="text-center"></p><p>(ノ `⌒´)ノ︵ ┻━┻</p><p></div></p><a href="entries/hacking-huawei-e3372-hilink..html#preview-more">Continue reading <i class="fa fa-chevron-right"></i></a></article><hr /><article><header><div class="panel panel-default"><div class="panel-body"><div class="text-center"><div class="row"><h1><a href="entries/running-modern-gnu_linux-on-powermac-g5---the-complete-instruction.html">Running modern GNU/Linux on PowerMac G5 - the complete instruction</a></h1><p>Posted on <time>2017-01-16 22:23</time> by <a href="https://github.com/Idorobots">Idorobots</a></p><nav><a class="tag" href="tags/linux.html"><span class="label label-info small">Linux</span></a> <a class="tag" href="tags/ppc970.html"><span class="label label-info small">PPC970</span></a> <a class="tag" href="tags/powerpc.html"><span class="label label-info small">PowerPC</span></a> <a class="tag" href="tags/raspberry-pi.html"><span class="label label-info small">Raspberry Pi</span></a> <a class="tag" href="tags/ubuntu.html"><span class="label label-info small">Ubuntu</span></a> <a class="tag" href="tags/benchmarks.html"><span class="label label-info small">benchmarks</span></a> <a class="tag" href="tags/i7.html"><span class="label label-info small">i7</span></a></nav></div></div></div></div></header><p>Recently, I had a craving for some PowerPC action, so I dug up an old <strong>PPC970</strong>-based machine and had some considerable fun playing with it. The machine in question is an early model of double-processor <em>PowerMac G5</em>, version 7.2 to be exact:</p><p><img src="https://blog.idorobots.org/media/ppclinux/works.png" alt="works" /></p><p>I've decided to write this post because these machines are getting old and any sort of info on how to boot GNU/Linux on them is getting sparser by the year. Especially the correct sort.</p><a href="entries/running-modern-gnu_linux-on-powermac-g5---the-complete-instruction.html#preview-more">Continue reading <i class="fa fa-chevron-right"></i></a></article><hr /><article><header><div class="panel panel-default"><div class="panel-body"><div class="text-center"><div class="row"><h1><a href="entries/promise-as-a-basic-language-feature.html">Promise as a basic language feature</a></h1><p>Posted on <time>2016-11-02 00:23</time> by <a href="https://github.com/Idorobots">Idorobots</a></p><nav><a class="tag" href="tags/actor-model.html"><span class="label label-info small">Actor Model</span></a> <a class="tag" href="tags/cps.html"><span class="label label-info small">CPS</span></a> <a class="tag" href="tags/lisp.html"><span class="label label-info small">Lisp</span></a> <a class="tag" href="tags/promise.html"><span class="label label-info small">Promise</span></a> <a class="tag" href="tags/scheme.html"><span class="label label-info small">Scheme</span></a> <a class="tag" href="tags/benchmarks.html"><span class="label label-info small">benchmarks</span></a> <a class="tag" href="tags/language-features.html"><span class="label label-info small">language features</span></a></nav></div></div></div></div></header><p>Just the other day, while programming in Scala, I was thinking how nice it is that Haskell hides non-strictness (a.k.a. laziness) underneath, so no obnoxious lazy stream creation/forcing needs to be done. And then it struck me: how cool would it be to treat Promises in a language the same way that Haskell treats lazy values? Would such a language even make sense? How would you program in such a language?</p><p>Let's explore! You can find all the code included in this post in a more useful form <a href='https://github.com/Idorobots/promise-based-lang'>here</a>.</p><h2><a name="promise"></a><a href="#promise">Promise</a></h2>Here's a very simple <code>Promise</code> implementation written in Scheme, with support for asynchronous resolving & error rejection, which we'll need in order to explore this weird proposition:<p><div class="row"><div class="col-xs-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3"></p><pre><code class="scheme">&#40;define &#42;promises&#42; '&#40;&#41;&#41;

&#40;define &#40;make-promise value state then handle thunk&#41;
  &#40;list '&amp;promise value state then handle thunk&#41;&#41;

;; Field accessors omitted.

&#40;define &#40;promise fun&#41;
  &#40;let&#42; &#40;&#40;val '&#40;&#41;&#41;
         &#40;state 'pending&#41;
         &#40;on-resolve id&#41;
         &#40;on-reject id&#41;
         &#40;resolve &#40;lambda &#40;v&#41;
                    &#40;set! val v&#41;
                    &#40;set! state 'resolved&#41;
                    &#40;on-resolve val&#41;&#41;&#41;
         &#40;reject &#40;lambda &#40;e&#41;
                   &#40;set! val e&#41;
                   &#40;set! state 'rejected&#41;
                   &#40;on-reject val&#41;&#41;&#41;
         &#40;then &#40;lambda &#40;t&#41;
                 &#40;if &#40;equal? state 'resolved&#41;
                     &#40;t val&#41;
                     &#40;set! on-resolve t&#41;&#41;&#41;&#41;
         &#40;handle &#40;lambda &#40;h&#41;
                   &#40;if &#40;equal? state 'rejected&#41;
                       &#40;h val&#41;
                       &#40;set! on-reject h&#41;&#41;&#41;&#41;
         &#40;p &#40;make-promise &#40;lambda &#40;&#41; val&#41;
                          &#40;lambda &#40;&#41; state&#41;
                          then
                          handle
                          &#40;lambda &#40;&#41; &#40;fun resolve reject&#41;&#41;&#41;&#41;&#41;
    &#40;set! &#42;promises&#42; &#40;cons p &#42;promises&#42;&#41;&#41;
    p&#41;&#41;
</code></pre><p></div></div></p><a href="entries/promise-as-a-basic-language-feature.html#preview-more">Continue reading <i class="fa fa-chevron-right"></i></a></article><hr /><article><header><div class="panel panel-default"><div class="panel-body"><div class="text-center"><div class="row"><h1><a href="entries/upnod-3_-the-ram..html">UPNOD 3: The RAM.</a></h1><p>Posted on <time>2016-10-03 22:43</time> by <a href="https://github.com/Idorobots">Idorobots</a></p><nav><a class="tag" href="tags/ram.html"><span class="label label-info small">RAM</span></a> <a class="tag" href="tags/upnod.html"><span class="label label-info small">UPNOD</span></a> <a class="tag" href="tags/vhdl.html"><span class="label label-info small">VHDL</span></a> <a class="tag" href="tags/z80.html"><span class="label label-info small">Z80</span></a> <a class="tag" href="tags/electronics.html"><span class="label label-info small">electronics</span></a> <a class="tag" href="tags/reverse-engineering.html"><span class="label label-info small">reverse engineering</span></a> <a class="tag" href="tags/vintage-electronics.html"><span class="label label-info small">vintage electronics</span></a></nav></div></div></div></div></header><p>After a lengthy break I'm back to the <a href='https://blog.idorobots.org/tags/upnod.html'>UPNOD series</a>. This time we'll take a closer look at the dynamic random-access memory (DRAM) circuitry present on the PCB:</p><p><img src="https://blog.idorobots.org/media/upnod3/ramchips.png" alt="RAM chips" /></p><p>As usual, all of my findings can be found <a href='https://github.com/idorobots/upnod-card0117-tn64'>here</a>.</p><a href="entries/upnod-3_-the-ram..html#preview-more">Continue reading <i class="fa fa-chevron-right"></i></a></article><hr /><article><header><div class="panel panel-default"><div class="panel-body"><div class="text-center"><div class="row"><h1><a href="entries/using-a-rule-based-system-for-type-inference..html">Using a Rule-based System for type inference.</a></h1><p>Posted on <time>2016-07-18 20:23</time> by <a href="https://github.com/Idorobots">Idorobots</a></p><nav><a class="tag" href="tags/lisp.html"><span class="label label-info small">Lisp</span></a> <a class="tag" href="tags/prolog.html"><span class="label label-info small">Prolog</span></a> <a class="tag" href="tags/rbs.html"><span class="label label-info small">RBS</span></a> <a class="tag" href="tags/rete.html"><span class="label label-info small">Rete</span></a> <a class="tag" href="tags/scheme.html"><span class="label label-info small">Scheme</span></a> <a class="tag" href="tags/logic-programming.html"><span class="label label-info small">logic programming</span></a> <a class="tag" href="tags/rules.html"><span class="label label-info small">rules</span></a> <a class="tag" href="tags/type-reconstruction.html"><span class="label label-info small">type reconstruction</span></a> <a class="tag" href="tags/type-systems.html"><span class="label label-info small">type systems</span></a></nav></div></div></div></div></header><p>Recently, I came across <a href='http://code.alehander42.me/prolog_type_systems'>this post</a> about implementing custom type systems using Prolog and it inspired me to revisit an old logic-programming-related project of mine.</p><p>About a year and a half ago I took a shot at using Prolog for type reconstruction (a.k.a. <strong>type inference</strong>), but that resulted in a load of <em>not much</em> for one reason or another. I did write <a href='https://github.com/Idorobots/rules'>this Rule-based system</a> shortly thereafter, however I did not give much thought to using it for type reconstruction. Let's change it...</p><p><div class="row"><div class="col-xs-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3"></p><pre><code class="scheme">&#40;assert! &#40;: map &#40;-&gt; &#40;&#40;-&gt; &#40;?a&#41; ?b&#41; &#40;list ?a&#41;&#41; &#40;list ?b&#41;&#41;&#41;&#41;
</code></pre><p></div></div></p><a href="entries/using-a-rule-based-system-for-type-inference..html#preview-more">Continue reading <i class="fa fa-chevron-right"></i></a></article><hr /><article><header><div class="panel panel-default"><div class="panel-body"><div class="text-center"><div class="row"><h1><a href="entries/upnod-2_-the-reset-circuit..html">UPNOD 2: The reset circuit.</a></h1><p>Posted on <time>2016-05-14 21:36</time> by <a href="https://github.com/Idorobots">Idorobots</a></p><nav><a class="tag" href="tags/6502.html"><span class="label label-info small">6502</span></a> <a class="tag" href="tags/upnod.html"><span class="label label-info small">UPNOD</span></a> <a class="tag" href="tags/vhdl.html"><span class="label label-info small">VHDL</span></a> <a class="tag" href="tags/z80.html"><span class="label label-info small">Z80</span></a> <a class="tag" href="tags/electronics.html"><span class="label label-info small">electronics</span></a> <a class="tag" href="tags/reverse-engineering.html"><span class="label label-info small">reverse engineering</span></a> <a class="tag" href="tags/vintage-electronics.html"><span class="label label-info small">vintage electronics</span></a></nav></div></div></div></div></header><p>A second installment in the <a href='https://blog.idorobots.org/tags/upnod.html'>UPNOD series</a>, this time we'll take a look into the reset circuitry of the telco card.</p><p><img src="https://blog.idorobots.org/media/upnod2/reset.png" alt="reset" /></p><p>As the title implies, this circuit is responsible for generating a proper Z80' reset sequence. Z80, being a rather dumb piece of clever electronics, may boot up in an undesirable undefined state and requires a few cycles of special treatment to properly initialize internal register values. This circuit does just that - it generates the initial reset pulse and handles reset signals coming from other parts of the board, all while maintaining proper synchronization.</p><a href="entries/upnod-2_-the-reset-circuit..html#preview-more">Continue reading <i class="fa fa-chevron-right"></i></a></article><hr /><article><header><div class="panel panel-default"><div class="panel-body"><div class="text-center"><div class="row"><h1><a href="entries/atari-xe-multicart.html">Atari XE Multicart</a></h1><p>Posted on <time>2016-04-24 11:05</time> by <a href="https://github.com/Idorobots">Idorobots</a></p><nav><a class="tag" href="tags/6502.html"><span class="label label-info small">6502</span></a> <a class="tag" href="tags/atari.html"><span class="label label-info small">Atari</span></a> <a class="tag" href="tags/c.html"><span class="label label-info small">C</span></a> <a class="tag" href="tags/cc65.html"><span class="label label-info small">CC65</span></a> <a class="tag" href="tags/eagle-cad.html"><span class="label label-info small">Eagle CAD</span></a> <a class="tag" href="tags/oshw.html"><span class="label label-info small">OSHW</span></a> <a class="tag" href="tags/electronics.html"><span class="label label-info small">electronics</span></a> <a class="tag" href="tags/hacks.html"><span class="label label-info small">hacks</span></a> <a class="tag" href="tags/hardware.html"><span class="label label-info small">hardware</span></a></nav></div></div></div></div></header><p>Cranking out another post took me way longer than I had anticipated when I rebooted this blog, but I got sidetracked by another <em>quick</em> <a href='https://github.com/Idorobots/atari-xe-multicart'>hardware project</a> that turned out to be way more involved and equally more fun than I originally thought...</p><p><img src="https://blog.idorobots.org/media/multicart/multicart.png" alt="multicart" /></p><p>I've designed an Atari 400/800/XL/XE standard cartridge compatible board that can hold up to 127 different standard 8KB and 16KB game ROMs at the same time. It's memory chip agnostic and features software game selection & a few neat hacks.</p><a href="entries/atari-xe-multicart.html#preview-more">Continue reading <i class="fa fa-chevron-right"></i></a></article><hr /><article><header><div class="panel panel-default"><div class="panel-body"><div class="text-center"><div class="row"><h1><a href="entries/upnod-1_-reverse-engineering-a-vintage-telco-card..html">UPNOD 1: Reverse engineering a vintage TelCo card.</a></h1><p>Posted on <time>2016-03-02 02:36</time> by <a href="https://github.com/Idorobots">Idorobots</a></p><nav><a class="tag" href="tags/upnod.html"><span class="label label-info small">UPNOD</span></a> <a class="tag" href="tags/z80.html"><span class="label label-info small">Z80</span></a> <a class="tag" href="tags/electronics.html"><span class="label label-info small">electronics</span></a> <a class="tag" href="tags/reverse-engineering.html"><span class="label label-info small">reverse engineering</span></a> <a class="tag" href="tags/vintage-electronics.html"><span class="label label-info small">vintage electronics</span></a></nav></div></div></div></div></header><p>Since my last actual post on this blog I have acquired a new <em>class of hobbies</em> - electronics. Most recently, reverse engineering of really old computers. This series of posts will be about a vintage eighties TelCo computer-card-thing marked <strong>UPNOD CARD0117 TN64</strong> I bought on a local auction:</p><p><img src="https://blog.idorobots.org/media/upnod1/top.JPG" alt="top" /></p><p>All my findings will be posted on this blog and the accompanying data will be gathered in <a href='https://github.com/Idorobots/upnod-card0117-tn64'>this GitHub repository</a>.</p><a href="entries/upnod-1_-reverse-engineering-a-vintage-telco-card..html#preview-more">Continue reading <i class="fa fa-chevron-right"></i></a></article><hr /><article><header><div class="panel panel-default"><div class="panel-body"><div class="text-center"><div class="row"><h1><a href="entries/blog-reboot_.html">Blog reboot!</a></h1><p>Posted on <time>2016-02-23 22:05</time> by <a href="https://github.com/Idorobots">Idorobots</a></p><nav><a class="tag" href="tags/clojure.html"><span class="label label-info small">Clojure</span></a> <a class="tag" href="tags/lisp.html"><span class="label label-info small">Lisp</span></a> <a class="tag" href="tags/meta.html"><span class="label label-info small">meta</span></a> <a class="tag" href="tags/l-blog.html"><span class="label label-info small">λ-blog</span></a></nav></div></div></div></div></header><p><div class="row"><div class="col-xs-10"></p><h2><a name="l-blog"></a><a href="#l-blog">λ-blog</a></h2><p>Finally got around to rebooting my old dev-blog! This time instead of fighting my way against some new unforgiving piece of blogging software I've decided to write <em>my own</em> piece of even <em>less forgiving</em> <a href='https://idorobots.github.io/lambda-blog/'>blogging software</a>.</p><p>Let's see how it goes this time...</p><p></div><div class="col-xs-2"></p><p><img src="https://blog.idorobots.org/media/hello/logo.png" alt="logo" /></p><p></div></div></p><p>In case you are wondering, here are some questions & answers regarding <strong>λ-blog</strong>:</p><a href="entries/blog-reboot_.html#preview-more">Continue reading <i class="fa fa-chevron-right"></i></a></article><hr /><article><header><div class="panel panel-default"><div class="panel-body"><div class="text-center"><div class="row"><h1><a href="entries/mochiweb-vs.-cowboy_-http-vs.-websocket-benchmark.html">MochiWeb vs. Cowboy, HTTP vs. WebSocket benchmark</a></h1><p>Posted on <time>2013-06-01 22:55</time> by <a href="https://github.com/Idorobots">Idorobots</a></p><nav><a class="tag" href="tags/comet.html"><span class="label label-info small">Comet</span></a> <a class="tag" href="tags/cowboy.html"><span class="label label-info small">Cowboy</span></a> <a class="tag" href="tags/erlang.html"><span class="label label-info small">Erlang</span></a> <a class="tag" href="tags/http.html"><span class="label label-info small">HTTP</span></a> <a class="tag" href="tags/mochiweb.html"><span class="label label-info small">MochiWeb</span></a> <a class="tag" href="tags/otp.html"><span class="label label-info small">OTP</span></a> <a class="tag" href="tags/websocket.html"><span class="label label-info small">WebSocket</span></a> <a class="tag" href="tags/benchmarks.html"><span class="label label-info small">benchmarks</span></a></nav></div></div></div></div></header><p>Lately I've been <a href='http://erlang.org/pipermail/erlang-questions/2004-April/011998.html'>banging around</a> a lot in order to get up to speed with <strong>Erlang/OTP</strong> and its various web-server libraries, and I figured I could share some of my findings here for future reference and in general for <em>The Greater Good</em>.</p><h2><a name="test-server"></a><a href="#test-server">Test server</a></h2><p>As you might have already noticed, this benchmark concerns two of the most well knows Erlang web-server libraries, <a href='https://github.com/mochi/mochiweb'>MochiWeb</a> and <a href='https://github.com/extend/cowboy'>Cowboy</a>, and it aims to explore their behaviour under <a href='#setup'>some considerable load</a>.</p><p>The <a href='https://github.com/Idorobots/brain-server'>server in question</a> uses two communication protocols, <strong>HTTP</strong> and <strong>WebSocket</strong>, so as an added benefit we'll see how these two compare. Unfortunately, MochiWeb doesn't have a built-in support for WebSocket, so <a href='https://github.com/Idorobots/brain-server/blob/master/src/mochiweb_websocket.erl'>an external library</a> was needed. The rather simple client API is defined as:</p><ul><li><strong>ht​tp://host/poll/N</strong> - an HTTP chunked reply with one chunk of data sent every <em>N</em> seconds,</li><li><strong>ws://host/wspoll/N</strong> - a WebSocket connection with one chunk sent every <em>N</em> seconds.</li></ul><a href="entries/mochiweb-vs.-cowboy_-http-vs.-websocket-benchmark.html#preview-more">Continue reading <i class="fa fa-chevron-right"></i></a></article><hr /><div class="panel panel-default"><div class="panel-body"><div class="text-center"><h1><a href="archives.html">Further reading...</a></h1></div></div></div><footer><hr /><div class="row"><div class="text-center"><div class="row"><div>Copyright © 2011-2018 Kajetan "Kajtek" Rzepecki</div><div>All writing licensed under <a href="http://creativecommons.org/licenses/by-sa/4.0/" rel="license">CC BY-SA 4.0</a>. All code released under the <a href="media/LICENSE" rel="license">MIT license</a> unless otherwise specified.</div></div></div><div class="text-center"><p>Powered by <a href="https://github.com/Idorobots/lambda-blog">λ-blog</a>.</p></div></div></footer></div></article></div></body></html>