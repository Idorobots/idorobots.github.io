<!DOCTYPE html><html><head><meta charset="utf-8" /><title>City Blueprints</title><link href="../style/bootstrap.min.css" rel="stylesheet" type="text/css" /><link href="../style/font-awesome.min.css" rel="stylesheet" type="text/css" /><link href="../style/ts.theme.dark.css" rel="stylesheet" type="text/css" /><link href="../style/hljs.theme.hybrid.css" rel="stylesheet" type="text/css" /><link href="../style/blog.css" rel="stylesheet" type="text/css" /><link href="../index.xml" rel="alternate" title="City Blueprints Feed" type /><link href="../media/favicon.ico" rel="icon" type="image/png" /><script src="../js/jquery-2.2.0.min.js" type="text/javascript"></script><script src="../js/jquery.tablesorter.min.js" type="text/javascript"></script><script src="../js/bootstrap.min.js" type="text/javascript"></script><script src="../js/highlight.min.js" type="text/javascript"></script><script src="../js/blog.js" type="text/javascript"></script><meta content="width=device-width, initial-scale=1.0" name="viewport" /><meta content="λ-blog v.1.3.2" name="generator" /><meta content="Idorobots" name="author" /><meta content="Kajetan Rzepecki, Idorobots, dev-blog, devblog, blog, Clojure, Lisp, Erlang, technology, electronics, hacks, computer science" name="keywords" /><meta content="Yes Mom, I *do* robots." name="description" /></head><body><nav class="navbar navbar-default navbar-fixed-top"><div class="container"><div class="navbar-header"><button class="navbar-toggle navbar-brand pull-left" data-target="#navbar-responsive-collapse" data-toggle="collapse" type="button"><div><img src="../media/logo.svg" />idorobots.org</div></button><div class="hidden-xs"><a class="navbar-brand" href=".."><div><img src="../media/logo.svg" />idorobots.org</div></a></div></div><div class="collapse navbar-collapse navbar-right" id="navbar-responsive-collapse"><ul class="nav navbar-nav"><li><a href="https://github.com/Idorobots"><i class="fa fa-github"></i> GitHub</a></li><li><a href="../resume.html"><i class="fa fa-trophy"></i> Resumé</a></li><li><a href="../contact.html"><i class="fa fa-comment"></i> Contact</a></li><li class="divider hidden-sm hidden-md hidden-lg"></li><li class="hidden-sm hidden-md hidden-lg"><a href=".."><i class="fa fa-home"></i> Home</a></li><li class="hidden-sm hidden-md hidden-lg"><a href="../archives.html"><i class="fa fa-archive"></i> Archives</a></li><li class="hidden-sm hidden-md hidden-lg"><a href="../tags/index.html"><i class="fa fa-tags"></i> Tag Cloud</a></li><li class="hidden-sm hidden-md hidden-lg"><a href="../index.xml"><i class="fa fa-feed"></i> Feed</a></li><li class="dropdown hidden-xs"><a href="#"><i class="fa fa-chevron-right"></i></a><ul class="dropdown-menu"><li><a href=".."><i class="fa fa-home"></i> Home</a></li><li><a href="../archives.html"><i class="fa fa-archive"></i> Archives</a></li><li><a href="../tags/index.html"><i class="fa fa-tags"></i> Tag Cloud</a></li><li><a href="../index.xml"><i class="fa fa-feed"></i> Feed</a></li></ul></li></ul></div></div></nav><div class="body-wrap"><article id="page"><div class="container"><header class="page-header"></header><article><header><div class="panel panel-default"><div class="panel-body"><div class="text-center"><h1>City Blueprints</h1><p>Posted on <time>2011-06-11 11:48</time> by <a href="https://github.com/Idorobots">Idorobots</a></p><nav><a class="tag" href="../tags/agh-ust.html"><span class="label label-info small">AGH-UST</span></a> <a class="tag" href="../tags/d-programming-language.html"><span class="label label-info small">D programming language</span></a> <a class="tag" href="../tags/ftgl.html"><span class="label label-info small">FTGL</span></a> <a class="tag" href="../tags/glfw.html"><span class="label label-info small">GLFW</span></a> <a class="tag" href="../tags/opengl.html"><span class="label label-info small">OpenGL</span></a> <a class="tag" href="../tags/openstreetmap.html"><span class="label label-info small">OpenStreetMap</span></a> <a class="tag" href="../tags/blueprints.html"><span class="label label-info small">blueprints</span></a></nav></div></div></div></header><p>I didn't make it on time with <code>&#40;car '&#40;3&#41;&#41;</code> and it's been quite a while without any updates, so let's have a quicky with a little tool I've made lately. The assignment was to load a part of the <a href='http://www.openstreetmap.org/'>OpenStreetMap</a> and give the good ol' <a href='http://en.wikipedia.org/wiki/Dijkstra's_algorithm'>Dijkstra</a> a spin in it, pretty simple yet quite fun.</p><p>I figured it would look nicer with some sweet GUI so... I didn't make any. Instead, I went with some minimal OpenGL window and a buncha' lines and squares. Still cool, right? I called it City Blueprints and <del>you can get it <a href='http://student.agh.edu.pl/~krzepeck/projects/cityblue.tar.gz'>here</a></del> (the page has been deleted since I graduated). Some screenshots follow.</p><p>Simple graph of a small town:</p><p><img src="https://blog.idorobots.org/media/cityblueprints/cityblue.png" alt="cityblue.png" /> <a name="preview-more"></a> City Blueprints shows a way from where you are ATM ("You are here.") to wherever you wish to go. Select starting node with RMB and end node with LMB.</p><p>Krakow, Poland: <img src="https://blog.idorobots.org/media/cityblueprints/1.png" alt="1" /></p><p>Works fine for bigger maps too.</p><p>More Krakow, Poland: <img src="https://blog.idorobots.org/media/cityblueprints/2.png" alt="2" /></p><p>Although it sometimes may be a little slow. <code>O&#40;N&#42;logN&#42;my&#95;sloppy&#95;implementation&#95;factor&#41;</code> after all.</p><p>Krakow yet again: <img src="https://blog.idorobots.org/media/cityblueprints/3.png" alt="3" /></p><p>You can scale the map. Simply use the scroll wheel.</p><p>JFK's airport, NY: <img src="https://blog.idorobots.org/media/cityblueprints/4.png" alt="4" /></p><p>You can drag stuff too, just hold LMB or MMB and move arround.</p><h2><a name="some-technical-details"></a><a href="#some-technical-details">Some technical details</a></h2>City Blueprints is written in the D programming language. It uses <a href='http://www.glfw.org/'>GLFW 2.7</a> for OpenGL context and input handling as well as a quick hack of FTGL for font rendering (I didn't feel like fixing old D bindings nor writing new ones, so I wrapped a few C++ FTGL classes in C and then in D functions and... Yo dawg, I heard you like wrappings...).You need to export a piece of OpenStreetMap to an XML using their exporting utility, or use the planet.osm they provide.City Blueprints uses a simple XML parser, so there's no memory wastage and it's quite fast.To open other .osm files simply run City Blueprints binary with the filename as a parameter. Ha, ha, I'm lazy.Lastly, path lengths <a href='http://en.wikipedia.org/wiki/Pythagorean_theorem'>totally rape geographic good taste and whatnot</a>.<p>Deal with it, I'm not a geograpist or anything...</p><p><em>consternation</em></p><p>Wait, I didn't&ndash;</p><p><em>awkward silence</em></p><p><strong>2016-02-20</strong>: Adjusted some links & tags.</p><footer><div class="row"><div class="hidden-xs col-md-2"></div><div class="col-xs-6 col-md-4"><nav><ul class="pager"><li class="previous"><a href="../entries/_car-__2-3__.html"><i class="fa fa-chevron-left" style="margin-right: 5px;"></i><span class="entry-title">(car '(2 3))</span></a></li></ul></nav></div><div class="col-xs-6 col-md-4"><nav><ul class="pager"><li class="next"><a href="../entries/_car-__3__.html"><span class="entry-title">(car '(3))</span><i class="fa fa-chevron-right" style="margin-left: 5px;"></i></a></li></ul></nav></div></div></footer></article><footer><hr /><div class="row"><div class="text-center"><div class="row"><div>Copyright © 2011-2016 Kajetan "Kajtek" Rzepecki</div><div>All writing licensed under <a href="http://creativecommons.org/licenses/by-sa/4.0/" rel="license">CC BY-SA 4.0</a>. All code released under the <a href="../media/LICENSE" rel="license">MIT license</a> unless otherwise specified.</div></div></div><div class="text-center"><p>Powered by <a href="https://github.com/Idorobots/lambda-blog">λ-blog</a>.</p></div></div></footer></div></article></div></body></html>