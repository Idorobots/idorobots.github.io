<!DOCTYPE html><html><head><meta charset="utf-8" /><title>Land of Lisp</title><link href="../style/bootstrap.min.css" rel="stylesheet" type="text/css" /><link href="../style/font-awesome.min.css" rel="stylesheet" type="text/css" /><link href="../style/ts.theme.dark.css" rel="stylesheet" type="text/css" /><link href="../style/hljs.theme.hybrid.css" rel="stylesheet" type="text/css" /><link href="../style/blog.css" rel="stylesheet" type="text/css" /><link href="../index.xml" rel="alternate" title="Land of Lisp Feed" type /><link href="../media/favicon.ico" rel="icon" type="image/png" /><script src="../js/jquery-2.2.0.min.js" type="text/javascript"></script><script src="../js/jquery.tablesorter.min.js" type="text/javascript"></script><script src="../js/bootstrap.min.js" type="text/javascript"></script><script src="../js/highlight.min.js" type="text/javascript"></script><script src="../js/blog.js" type="text/javascript"></script><meta content="width=device-width, initial-scale=1.0" name="viewport" /><meta content="λ-blog v.1.3.3" name="generator" /><meta content="Idorobots" name="author" /><meta content="Kajetan Rzepecki, Idorobots, dev-blog, devblog, blog, Clojure, Lisp, Erlang, technology, electronics, hacks, computer science" name="keywords" /><meta content="Yes Mom, I *do* robots." name="description" /></head><body><nav class="navbar navbar-default navbar-fixed-top"><div class="container"><div class="navbar-header"><button class="navbar-toggle navbar-brand pull-left" data-target="#navbar-responsive-collapse" data-toggle="collapse" type="button"><div><img src="../media/logo.svg" />idorobots.org</div></button><div class="hidden-xs"><a class="navbar-brand" href=".."><div><img src="../media/logo.svg" />idorobots.org</div></a></div></div><div class="collapse navbar-collapse navbar-right" id="navbar-responsive-collapse"><ul class="nav navbar-nav"><li><a href="https://github.com/Idorobots"><i class="fa fa-github"></i> GitHub</a></li><li><a href="../resume.html"><i class="fa fa-trophy"></i> Resumé</a></li><li><a href="../contact.html"><i class="fa fa-comment"></i> Contact</a></li><li class="divider hidden-sm hidden-md hidden-lg"></li><li class="hidden-sm hidden-md hidden-lg"><a href=".."><i class="fa fa-home"></i> Home</a></li><li class="hidden-sm hidden-md hidden-lg"><a href="../archives.html"><i class="fa fa-archive"></i> Archives</a></li><li class="hidden-sm hidden-md hidden-lg"><a href="../tags/index.html"><i class="fa fa-tags"></i> Tag Cloud</a></li><li class="hidden-sm hidden-md hidden-lg"><a href="../index.xml"><i class="fa fa-feed"></i> Feed</a></li><li class="dropdown hidden-xs"><a href="#"><i class="fa fa-chevron-right"></i></a><ul class="dropdown-menu"><li><a href=".."><i class="fa fa-home"></i> Home</a></li><li><a href="../archives.html"><i class="fa fa-archive"></i> Archives</a></li><li><a href="../tags/index.html"><i class="fa fa-tags"></i> Tag Cloud</a></li><li><a href="../index.xml"><i class="fa fa-feed"></i> Feed</a></li></ul></li></ul></div></div></nav><div class="body-wrap"><article id="page"><div class="container"><header class="page-header"></header><article><header><div class="panel panel-default"><div class="panel-body"><div class="text-center"><h1>Land of Lisp</h1><p>Posted on <time>2011-09-25 21:10</time> by <a href="https://github.com/Idorobots">Idorobots</a></p><nav><a class="tag" href="../tags/common-lisp.html"><span class="label label-info small">Common Lisp</span></a> <a class="tag" href="../tags/dsl.html"><span class="label label-info small">DSL</span></a> <a class="tag" href="../tags/graphviz.html"><span class="label label-info small">Graphviz</span></a> <a class="tag" href="../tags/land-of-lisp.html"><span class="label label-info small">Land of Lisp</span></a> <a class="tag" href="../tags/svg.html"><span class="label label-info small">SVG</span></a> <a class="tag" href="../tags/book-reviews.html"><span class="label label-info small">book reviews</span></a> <a class="tag" href="../tags/dot.html"><span class="label label-info small">dot</span></a> <a class="tag" href="../tags/evolution.html"><span class="label label-info small">evolution</span></a> <a class="tag" href="../tags/games.html"><span class="label label-info small">games</span></a> <a class="tag" href="../tags/genetic-algorithms.html"><span class="label label-info small">genetic algorithms</span></a> <a class="tag" href="../tags/programming-books.html"><span class="label label-info small">programming books</span></a></nav></div></div></div></header><p>I finally got around to writing a proper review of this book...</p><p><img src="http://blog.idorobots.org/media/lolreview/lol.png" alt="lol" /></p><p><strong>Lisp</strong> is a unique language that I decided to learn and use daily, so I grabbed the <a href='http://landoflisp.com'>Land of Lisp</a> by <strong>Conrad Barski</strong> and took off towards <a href='http://images.sodahead.com/polls/000475460/polls_fr_inside_jokes_1121_310388_answer_4_xlarge.gif'>Alpha Centauri</a>. It's a mighty fine read indeed, see for yourself:</p><p><div class="row"> <div class="col-xs-12 col-md-8 col-md-offset-2"> <div class="embed-responsive embed-responsive-16by9"> <iframe class="embed-responsive-item" src="https://www.youtube.com/embed/HM1Zb3xmvMc" frameborder="0" allowfullscreen> </iframe> </div> </div> </div> <a name="preview-more"></a> The <strong>Land of Lisp</strong> is a book for Lisp newbies aiming to teach them some of the most important concepts of Lisp programming. It starts with a little history lesson on the origins of Lisp and the <a href='http://en.wikipedia.org/wiki/History_of_artificial_intelligence#The_golden_years_1956.E2.88.921974'>AI boom</a> in the sixties, and then moves straight ahead to Lisp. We learn some basics of the syntax, semantics of a few important functions, Lisp's mechanics such as conses or boolean symmetry and different kinds of equality in Common Lisp. Together with chapter 5 the <strong>fun</strong> starts as we create our first game - a little text adventure I mentioned in <a href='http://blog.idorobots.org/entries/asm-development-log-0_-the-game.html'>an earlier post</a>.</p><p><div class="row"><div class="col-xs-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3"></p><pre><code class="clojure-repl">&gt; &#40;new-game&#41;
You are in the study. The wizard Astronis is snoring loudly on the couch. There is a ladder going upstairs from here. There is a staircase going downstairs from
 here. You see a bottle on the ground. You see a potion on the ground.

pickup potion
You pick up the potion

inventory
Items- potion

walk downstairs
You are in the basement. There are some chests here. There is a door going west from here. There is a staircase going upstairs from here. You see a bucket on the
 ground. You see a staff on the ground. You see a robe on the ground.

pickup staff
You pick up the staff

walk china
You cannot go there.

quit
Bye bye!
</code></pre><p></div></div></p><p><em>(This is my slightly modified version.)</em></p><p>It's really simple, yet very cool. In chapter 7 we even create a utility that allows us to visualize the game world a little:</p><p><div class="row"><div class="col-xs-12 col-md-8 col-md-offset-2"></p><p><img src="http://blog.idorobots.org/media/lolreview/0.png" alt="0" /></p><p></div></div></p><p>We use the same utility again in chapter 8, which you can download for free <a href='http://nostarch.com/download/Lisp08.pdf'>here</a>, creating another graph based game - <strong>Grand Theft Wumpus</strong>.</p><p><div class="row"><div class="col-xs-12 col-md-8 col-md-offset-2"></p><p><img src="http://blog.idorobots.org/media/lolreview/1.png" alt="1" /></p><p></div></div></p><p>The purpose of the game is to catch <em>Wumpus</em>, who <a href='http://home.comcast.net/~k.faber/worldofdavidgnome4.jpg'>slapped our sh*t</a>, in a maze-like city. We have to watch out for the police and local gangs. I have to admit that this game is very playable, I've spent a whole evening playing it.</p><p><img src="http://blog.idorobots.org/media/lolreview/2.png" alt="2" /></p><p>The graph utility uses <a href='http://www.graphviz.org/'>Graphviz</a>. It's a nice little tool for graph visualization.</p><p>In chapter 9 we create yet another game - <strong>Orc battle</strong>. This one is a tiny strategic game where we have to survive an ambush by several vicious monsters, it shows Common Lisp's basic OOP capabilities (<a href='http://en.wikipedia.org/wiki/Common_Lisp_Object_System'>CLOS</a> not included).</p><p><div class="row"><div class="col-xs-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3"></p><pre><code class="clojure-repl">&gt; &#40;orc-battle&#41;
You: HP: 30 AGI: 30 STR: 30

Your foes:
   1. HP: 1 A wicked orc with a level 2 club.
   2. HP: 1 A malicious hydra with 1 heads.
   3. HP: 4 A wicked orc with a level 2 club.
   4. HP: 3 A fierce BRIGAND.
   5. HP: 8 A slime mold with a sliminess of 5.
   6. HP: 8 A malicious hydra with 8 heads.
   7. HP: 3 A slime mold with a sliminess of 3.
   8. HP: 10 A slime mold with a sliminess of 4.
   9. HP: 7 A malicious hydra with 7 heads.
   10. HP: 2 A wicked orc with a level 1 club.
   11. HP: 8 A malicious hydra with 8 heads.
   12. HP: 7 A fierce BRIGAND.

Attack style: &#91;s&#93;tab, &#91;d&#93;ouble swing, &#91;r&#93;oundhouse: r

You chop off 1 of the hydra's heads!
You hit the BRIGAND for 1 health points!
The corpse of the fully decapitated and decapacitated hydra falls to the floor!
You hit the ORC for 1 health points!
</code></pre><p></div></div></p><p>The game uses several Common Lisp's advanced data types such as structs, hash tables and arrays. Believe it or not, but Lisp is <strong>not</strong> all about lists all the time.</p><p>Chapter 10, at this point, the <em>real</em> Lisp starts - we learn about the <code>loop</code> and <code>format</code> macros. <strong>Loop</strong> is an extremely useful macro that does anything you possibly could imagine. It's <a href='http://en.wikipedia.org/wiki/Turing_completeness'>Turing-complete</a>! Just look at this awesome snippet:</p><p><div class="row"><div class="col-xs-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3"></p><pre><code class="lisp">&#40;defparameter salary &#40;make-hash-table&#41;&#41;
&#40;setf &#40;gethash 'Bob salary&#41; 10000&#41;
&#40;setf &#40;gethash 'Alice salary&#41; 7500&#41; ; &#42;coolface&#42;

&#40;loop for person being each hash-key of salary
      do &#40;print person&#41;&#41;
</code></pre><p></div></div></p><p>It's real code. No kidding. There's even a periodic table for this macro introduced at one point:</p><p><img src="http://blog.idorobots.org/media/lolreview/3.png" alt="3" /></p><p>We then write a <a href='http://en.wikipedia.org/wiki/Genetic_algorithm'>genetic algorithm</a> using <code>loop</code>. It evolves some animals in a dual environment leading to <a href='http://en.wikipedia.org/wiki/Speciation'>speciation</a>:</p><p><div class="row"><div class="col-xs-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3"></p><pre><code class="clojure-repl">&gt; &#42;animals&#42;
&#40;#S&#40;ANIMAL :X 22 :Y 11 :ENERGY 111 :DIR 7 :GENES &#40;12 7 8 4 2 3 8 5&#41;&#41;
 #S&#40;ANIMAL :X 51 :Y 13 :ENERGY 137 :DIR 3 :GENES &#40;3 9 12 23 4 4 11 1&#41;&#41;
 #S&#40;ANIMAL :X 55 :Y 4 :ENERGY 94 :DIR 5 :GENES &#40;13 7 7 1 3 1 8 6&#41;&#41;
 #S&#40;ANIMAL :X 49 :Y 19 :ENERGY 133 :DIR 5 :GENES &#40;3 10 13 23 3 5 11 1&#41;&#41;
 #S&#40;ANIMAL :X 43 :Y 8 :ENERGY 103 :DIR 6 :GENES &#40;5 10 10 21 2 3 10 1&#41;&#41;
 #S&#40;ANIMAL :X 53 :Y 11 :ENERGY 98 :DIR 4 :GENES &#40;4 8 13 23 3 3 10 1&#41;&#41;
 #S&#40;ANIMAL :X 52 :Y 10 :ENERGY 167 :DIR 0 :GENES &#40;3 10 11 23 2 5 11 2&#41;&#41;
 #S&#40;ANIMAL :X 47 :Y 10 :ENERGY 95 :DIR 3 :GENES &#40;5 9 12 23 3 3 10 1&#41;&#41;
 #S&#40;ANIMAL :X 72 :Y 4 :ENERGY 172 :DIR 1 :GENES &#40;14 9 7 2 2 3 8 6&#41;&#41;
 #S&#40;ANIMAL :X 43 :Y 11 :ENERGY 107 :DIR 6 :GENES &#40;3 10 12 23 4 4 11 1&#41;&#41;
 #S&#40;ANIMAL :X 79 :Y 5 :ENERGY 79 :DIR 5 :GENES &#40;13 8 5 2 1 2 9 6&#41;&#41;
 #S&#40;ANIMAL :X 49 :Y 12 :ENERGY 144 :DIR 4 :GENES &#40;3 10 12 22 3 4 10 1&#41;&#41;
 #S&#40;ANIMAL :X 70 :Y 9 :ENERGY 74 :DIR 4 :GENES &#40;13 7 7 1 2 1 9 6&#41;&#41;
 #S&#40;ANIMAL :X 49 :Y 16 :ENERGY 88 :DIR 0 :GENES &#40;5 8 11 22 3 3 10 2&#41;&#41;
  ...&#41;
</code></pre><p></div></div></p><p>After a few hundred thousand "days" we'll see two different genotypes easily.</p><p><strong>Format</strong> is a swiss army knife of printing text. Coupling it with <code>loop</code> is just... Just beautiful...</p><p><div class="row"><div class="col-xs-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3"></p><pre><code class="clojure-repl">&gt; &#40;format t &quot;|&#126;{&#126;&lt;|&#126;%|&#126;,33:;&#126;2d &#126;&gt;&#126;}|&quot;
  	    &#40;loop for numbers below 100 collecting numbers&#41;&#41;
| 0  1  2  3  4  5  6  7  8  9 |
|10 11 12 13 14 15 16 17 18 19 |
|20 21 22 23 24 25 26 27 28 29 |
|30 31 32 33 34 35 36 37 38 39 |
|40 41 42 43 44 45 46 47 48 49 |
|50 51 52 53 54 55 56 57 58 59 |
|60 61 62 63 64 65 66 67 68 69 |
|70 71 72 73 74 75 76 77 78 79 |
|80 81 82 83 84 85 86 87 88 89 |
|90 91 92 93 94 95 96 97 98 99 |
</code></pre><p></div></div></p><p>Don't expect me to explain this code. Go read a <a href='http://landoflisp.com'>book</a>.</p><p>Starting with chapter 13 we begin coding the ultimate mind-bending game - <strong>Dice of Doom</strong>. Chapter 13 builds a <strong>web server</strong> needed to run the game. Then we have a little jump into <a href='http://en.wikipedia.org/wiki/Functional_programming'>functional programming</a> and <a href='http://en.wikipedia.org/wiki/Macro_%28computer_science%29#Lisp_.2F_S-expression_macros'>lispy macros</a>.</p><p><img src="http://blog.idorobots.org/media/lolreview/4.png" alt="4" /></p><p>Next, we create a little <a href='http://en.wikipedia.org/wiki/Domain-specific_language'>DSL</a> for handling HTML and SVG code needed for the game, it's preeeeetty.</p><p>The last chapters are truly <a href='http://www.youtube.com/watch?v=owGykVbfgUE'>diamonds</a>. Lazy programming from chapter 18 chew onto my mind like it was bubble gum. My only concern is that such important and hard techniques were given so little attention by the author, but hell, it's a book for the newbies after all, you'll have to deal with it, <em>Myself</em>.</p><p>Lastly, the effects of our struggles in those last chapters - the fun, mind-opening game with all kinds of computer science under the hood:</p><p><img src="http://blog.idorobots.org/media/lolreview/5.png" alt="5" /></p><p>IMO, the book is great. I had lots of fun reading it and I've learnt so much it <a href='http://realestatetomato.com/files/2006/10/Blown-Mind.jpg'>blew my mind</a>. If you're looking for a good book to start your Lisp-adventure you might want to try <strong>Land of Lisp</strong>.</p><p><strong>2016-02-18</strong>: Adjusted some links & tags.</p><footer><div class="row"><div class="hidden-xs col-md-2"></div><div class="col-xs-6 col-md-4"><nav><ul class="pager"><li class="previous"><a href="../entries/asm-development-log-1_-oliviabot.html"><i class="fa fa-chevron-left" style="margin-right: 5px;"></i><span class="entry-title">ASM development log 1: OliviaBOT</span></a></li></ul></nav></div><div class="col-xs-6 col-md-4"><nav><ul class="pager"><li class="next"><a href="../entries/asm-heatmap.html"><span class="entry-title">ASM heatmap</span><i class="fa fa-chevron-right" style="margin-left: 5px;"></i></a></li></ul></nav></div></div></footer></article><footer><hr /><div class="row"><div class="text-center"><div class="row"><div>Copyright © 2011-2017 Kajetan "Kajtek" Rzepecki</div><div>All writing licensed under <a href="http://creativecommons.org/licenses/by-sa/4.0/" rel="license">CC BY-SA 4.0</a>. All code released under the <a href="../media/LICENSE" rel="license">MIT license</a> unless otherwise specified.</div></div></div><div class="text-center"><p>Powered by <a href="https://github.com/Idorobots/lambda-blog">λ-blog</a>.</p></div></div></footer></div></article></div></body></html>